TRUNCATE folders, notes RESTART IDENTITY CASCADE;

DROP TABLE IF EXISTS folders;

CREATE TABLE folders (
    id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    name TEXT NOT NULL
);

DROP TABLE IF EXISTS notes;

CREATE TABLE IF NOT EXISTS notes (
    id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    name TEXT NOT NULL,
    modified TIMESTAMP DEFAULT now() NOT NULL,
    content TEXT NOT NULL,
    folderId INTEGER REFERENCES folders(id) ON DELETE CASCADE NOT NULL
);